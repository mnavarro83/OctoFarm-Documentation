(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{371:function(t,e,s){t.exports=s.p+"assets/img/octoprint-cors.9615af97.png"},396:function(t,e,s){"use strict";s.r(e);var a=s(27),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"octoprint-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#octoprint-setup"}},[t._v("#")]),t._v(" OctoPrint Setup")]),t._v(" "),a("p",[t._v("There are a few pre-requisits for OctoPrint to allow OctoFarm to establish a reliable connection to OctoPrint. Please setup the below on each instance you want to add to your farm.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Currently OctoFarm (to save time on larger farms) attempts to guess which user to use. If you have multiple admin users in OctoPrint, OctoFarm, could incorrectly guess which one you use. For now it is best to just have 1 user on your OctoPrint instances until we look into allowing OctoFarm users to select their preferred OctoPrint user.")])]),t._v(" "),a("h2",{attrs:{id:"setup-the-correct-api-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-the-correct-api-key"}},[t._v("#")]),t._v(" Setup the correct API Key")]),t._v(" "),a("p",[t._v("There are 3 different types of API keys in OctoPrint.")]),t._v(" "),a("ul",[a("li",[t._v("User API Key (useful). The user API key works only if the user has the groups "),a("strong",[t._v("Admins")]),t._v(" and "),a("strong",[t._v("Operator")]),t._v(". This is the first user you make, so make sure to add the roles yourself for it to work for another user (if you must).")]),t._v(" "),a("li",[t._v("Application Key (useful). The same as a User key but targeted for specific applications: like OctoFarm.\nMake sure your user has the groups "),a("strong",[t._v("ADMINS")]),t._v(" AND "),a("strong",[t._v("OPERATOR")]),t._v(" for your user - this is default for only the 1st user!")]),t._v(" "),a("li",[t._v("Global API Key. We've had trouble using the Global API Key and it's "),a("strong",[t._v("will not fully work + should not be used => dont use it")]),t._v(".")])]),t._v(" "),a("p",[t._v("Quoting OctoPrint's Application Key page:")]),t._v(" "),a("blockquote",[a("p",[t._v("The global API key should best not be used anymore. It's one single key that gives full admin access to your whole OctoPrint instance. "),a("strong",[t._v("Instead of using it you should create individual Application Keys for your third party clients.")]),t._v(" That way they get permissions matching the user account used for key creation and you can also revoke access to one app without having to change the keys for all other apps. It's also recommended to create a user account without admin access and use that for third party clients where possible.")])]),t._v(" "),a("p",[t._v("TL;DR create an Application Key for the first OctoPrint account you made ❤️\nThis the way to get there:")]),t._v(" "),a("ul",[a("li",[t._v("Settings wrench icon\n"),a("img",{attrs:{src:"https://user-images.githubusercontent.com/6005355/108238363-2effcf00-7149-11eb-9bed-213cd2f29a52.png",alt:"image"}})]),t._v(" "),a("li",[t._v("Application Key (side navigation within OctoPrint Settings)\n"),a("img",{attrs:{src:"https://user-images.githubusercontent.com/6005355/108238623-69696c00-7149-11eb-9b44-21b1362c1d23.png",alt:"image"}})]),t._v(" "),a("li",[t._v("Copy the generated key in the "),a("code",[t._v("Registered application keys")]),t._v(" field which will appear after you click "),a("code",[t._v("Generate")]),t._v(" "),a("img",{attrs:{src:"https://user-images.githubusercontent.com/6005355/108240349-109ad300-714b-11eb-819b-7737fefeeff2.png",alt:"image"}})])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ul",[a("li",[t._v("(Optional) you can do this also in the User Settings, where the same Application Key are managed but only for the user itself, as well as also a user-specific API Key can be generated. Pretty confusing, yeah. Just use Application Key.")])])]),t._v(" "),a("h2",{attrs:{id:"make-sure-your-user-has-administrator-privileges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#make-sure-your-user-has-administrator-privileges"}},[t._v("#")]),t._v(" Make sure your user has Administrator Privileges")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ul",[a("li",[t._v("(Optional) make sure the user has Operator and Admins groups (which is default for the first user).")])])]),t._v(" "),a("blockquote",[a("p",[t._v("OctoPrint Settings (wrench icon) > Access Control > Edit the user you want (crayon icon)")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/6005355/108240729-67a0a800-714b-11eb-9fa0-f551da95e749.png",alt:"image"}})]),t._v(" "),a("h2",{attrs:{id:"turning-on-cors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#turning-on-cors"}},[t._v("#")]),t._v(" Turning on CORS")]),t._v(" "),a("p",[a("img",{attrs:{src:s(371),alt:"OctoPrint CORS Settings"}}),t._v("\nEnable CORS in the OctoPrint settings and restart your OctoPrint instance.")]),t._v(" "),a("h3",{attrs:{id:"what-happens-if-cors-is-disabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-happens-if-cors-is-disabled"}},[t._v("#")]),t._v(" What happens If CORS is disabled?")]),t._v(" "),a("blockquote",[a("p",[t._v("The OctoFarm website (a.k.a. the client) cannot call OctoPrint. The OctoFarm server can still do it, but that's not how its currently all setup.")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("The CORS setting being checked off results in the website of OctoFarm not being able to OctoPrint directly. Thus stuff wil fail.\nTL;DR enable CORS please ❤️")])])])}),[],!1,null,null,null);e.default=o.exports}}]);