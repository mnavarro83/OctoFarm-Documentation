<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OctoPrint Setup | OctoFarms Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="OctoFarms official documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.48e8e2bb.css" as="style"><link rel="preload" href="/assets/js/app.d94fa46e.js" as="script"><link rel="preload" href="/assets/js/2.965b894a.js" as="script"><link rel="preload" href="/assets/js/8.2eeeb5ce.js" as="script"><link rel="preload" href="/assets/js/4.c8c44e52.js" as="script"><link rel="prefetch" href="/assets/js/10.261f954b.js"><link rel="prefetch" href="/assets/js/11.a44fc9fd.js"><link rel="prefetch" href="/assets/js/12.e22832b5.js"><link rel="prefetch" href="/assets/js/13.73ec3a66.js"><link rel="prefetch" href="/assets/js/14.daa3f4a0.js"><link rel="prefetch" href="/assets/js/15.6a45dbd6.js"><link rel="prefetch" href="/assets/js/16.955128cb.js"><link rel="prefetch" href="/assets/js/17.19f24dc8.js"><link rel="prefetch" href="/assets/js/18.b6d39cc0.js"><link rel="prefetch" href="/assets/js/19.5c66b6cf.js"><link rel="prefetch" href="/assets/js/20.5c3d0d74.js"><link rel="prefetch" href="/assets/js/21.3e9335c4.js"><link rel="prefetch" href="/assets/js/22.a5b45674.js"><link rel="prefetch" href="/assets/js/23.4a886ec7.js"><link rel="prefetch" href="/assets/js/24.19fd1ec4.js"><link rel="prefetch" href="/assets/js/25.856c9d04.js"><link rel="prefetch" href="/assets/js/26.03f91e4d.js"><link rel="prefetch" href="/assets/js/27.175c12ae.js"><link rel="prefetch" href="/assets/js/28.f94721e7.js"><link rel="prefetch" href="/assets/js/29.3ab3567c.js"><link rel="prefetch" href="/assets/js/3.307549ba.js"><link rel="prefetch" href="/assets/js/30.c63a3834.js"><link rel="prefetch" href="/assets/js/31.ca5d273e.js"><link rel="prefetch" href="/assets/js/5.35354b5a.js"><link rel="prefetch" href="/assets/js/6.e55b13fa.js"><link rel="prefetch" href="/assets/js/7.4abc5fac.js"><link rel="prefetch" href="/assets/js/9.e3a3c066.js">
    <link rel="stylesheet" href="/assets/css/0.styles.48e8e2bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="OctoFarms Documentation" class="logo"> <span class="site-name can-hide">OctoFarms Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getting-started/" class="nav-link router-link-active">
  Getting Started
</a></div><div class="nav-item"><a href="/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/installation/" class="nav-link">
  Installation
</a></div><div class="nav-item"><a href="https://octofarm.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OctoFarm.net
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OctoFarm/OctoFarm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getting-started/" class="nav-link router-link-active">
  Getting Started
</a></div><div class="nav-item"><a href="/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/installation/" class="nav-link">
  Installation
</a></div><div class="nav-item"><a href="https://octofarm.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OctoFarm.net
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OctoFarm/OctoFarm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/octofarm-cli.html" class="sidebar-link">OctoFarm CLI Commands</a></li><li><a href="/getting-started/octofarm-faq.html" class="sidebar-link">F.A.Q</a></li><li><a href="/getting-started/octofarm-remote-access.html" class="sidebar-link">Remote Access Setup.</a></li><li><a href="/getting-started/octofarm-requirements.html" class="sidebar-link">System Requirements</a></li><li><a href="/getting-started/octofarm-updating.html" class="sidebar-link">Updating OctoFarm</a></li><li><a href="/getting-started/octoprint-setup.html" aria-current="page" class="active sidebar-link">OctoPrint Setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started/octoprint-setup.html#setup-the-correct-api-key" class="sidebar-link">Setup the correct API Key</a></li><li class="sidebar-sub-header"><a href="/getting-started/octoprint-setup.html#make-sure-your-user-has-administrator-privileges" class="sidebar-link">Make sure your user has Administrator Privileges</a></li><li class="sidebar-sub-header"><a href="/getting-started/octoprint-setup.html#turning-on-cors" class="sidebar-link">Turning on CORS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started/octoprint-setup.html#what-happens-if-cors-is-disabled" class="sidebar-link">What happens If CORS is disabled?</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="octoprint-setup"><a href="#octoprint-setup" class="header-anchor">#</a> OctoPrint Setup</h1> <p>There are a few pre-requisits for OctoPrint to allow OctoFarm to establish a reliable connection to OctoPrint. Please setup the below on each instance you want to add to your farm.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Currently OctoFarm (to save time on larger farms) attempts to guess which user to use. If you have multiple admin users in OctoPrint, OctoFarm, could incorrectly guess which one you use. For now it is best to just have 1 user on your OctoPrint instances until we look into allowing OctoFarm users to select their preferred OctoPrint user.</p></div> <h2 id="setup-the-correct-api-key"><a href="#setup-the-correct-api-key" class="header-anchor">#</a> Setup the correct API Key</h2> <p>There are 3 different types of API keys in OctoPrint.</p> <ul><li>User API Key (useful). The user API key works only if the user has the groups <strong>Admins</strong> and <strong>Operator</strong>. This is the first user you make, so make sure to add the roles yourself for it to work for another user (if you must).</li> <li>Application Key (useful). The same as a User key but targeted for specific applications: like OctoFarm.
Make sure your user has the groups <strong>ADMINS</strong> AND <strong>OPERATOR</strong> for your user - this is default for only the 1st user!</li> <li>Global API Key. We've had trouble using the Global API Key and it's <strong>will not fully work + should not be used =&gt; dont use it</strong>.</li></ul> <p>Quoting OctoPrint's Application Key page:</p> <blockquote><p>The global API key should best not be used anymore. It's one single key that gives full admin access to your whole OctoPrint instance. <strong>Instead of using it you should create individual Application Keys for your third party clients.</strong> That way they get permissions matching the user account used for key creation and you can also revoke access to one app without having to change the keys for all other apps. It's also recommended to create a user account without admin access and use that for third party clients where possible.</p></blockquote> <p>TL;DR create an Application Key for the first OctoPrint account you made ❤️
This the way to get there:</p> <ul><li>Settings wrench icon
<img src="https://user-images.githubusercontent.com/6005355/108238363-2effcf00-7149-11eb-9bed-213cd2f29a52.png" alt="image"></li> <li>Application Key (side navigation within OctoPrint Settings)
<img src="https://user-images.githubusercontent.com/6005355/108238623-69696c00-7149-11eb-9b44-21b1362c1d23.png" alt="image"></li> <li>Copy the generated key in the <code>Registered application keys</code> field which will appear after you click <code>Generate</code> <img src="https://user-images.githubusercontent.com/6005355/108240349-109ad300-714b-11eb-819b-7737fefeeff2.png" alt="image"></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>(Optional) you can do this also in the User Settings, where the same Application Key are managed but only for the user itself, as well as also a user-specific API Key can be generated. Pretty confusing, yeah. Just use Application Key.</li></ul></div> <h2 id="make-sure-your-user-has-administrator-privileges"><a href="#make-sure-your-user-has-administrator-privileges" class="header-anchor">#</a> Make sure your user has Administrator Privileges</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>(Optional) make sure the user has Operator and Admins groups (which is default for the first user).</li></ul></div> <blockquote><p>OctoPrint Settings (wrench icon) &gt; Access Control &gt; Edit the user you want (crayon icon)</p></blockquote> <p><img src="https://user-images.githubusercontent.com/6005355/108240729-67a0a800-714b-11eb-9fa0-f551da95e749.png" alt="image"></p> <h2 id="turning-on-cors"><a href="#turning-on-cors" class="header-anchor">#</a> Turning on CORS</h2> <p><img src="/assets/img/octoprint-cors.9615af97.png" alt="OctoPrint CORS Settings">
Enable CORS in the OctoPrint settings and restart your OctoPrint instance.</p> <h3 id="what-happens-if-cors-is-disabled"><a href="#what-happens-if-cors-is-disabled" class="header-anchor">#</a> What happens If CORS is disabled?</h3> <blockquote><p>The OctoFarm website (a.k.a. the client) cannot call OctoPrint. The OctoFarm server can still do it, but that's not how its currently all setup.</p></blockquote> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The CORS setting being checked off results in the website of OctoFarm not being able to OctoPrint directly. Thus stuff wil fail.
TL;DR enable CORS please ❤️</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/OctoFarm/OctoFarm-Documentation/edit/master/src/getting-started/octoprint-setup.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d94fa46e.js" defer></script><script src="/assets/js/2.965b894a.js" defer></script><script src="/assets/js/8.2eeeb5ce.js" defer></script><script src="/assets/js/4.c8c44e52.js" defer></script>
  </body>
</html>
